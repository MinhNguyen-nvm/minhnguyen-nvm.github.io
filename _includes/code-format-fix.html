<!-- Code formatting fix script -->
<script>
// Force proper code formatting after page load
document.addEventListener('DOMContentLoaded', function() {
    // Find all code blocks
    const codeBlocks = document.querySelectorAll('.highlight pre code, .language-kotlin code, pre code');
    
    codeBlocks.forEach(function(codeBlock) {
        // Force white-space preservation
        codeBlock.style.whiteSpace = 'pre';
        codeBlock.style.wordWrap = 'normal';
        codeBlock.style.overflowX = 'auto';
        codeBlock.style.lineHeight = '1.5';
        codeBlock.style.fontFamily = 'Monaco, Consolas, "Courier New", monospace';
        
        // Also apply to parent containers
        if (codeBlock.parentElement) {
            codeBlock.parentElement.style.whiteSpace = 'pre';
            codeBlock.parentElement.style.overflowX = 'auto';
        }
    });
    
    // Also target any spans within code blocks
    const codeSpans = document.querySelectorAll('.highlight span, .language-kotlin span');
    codeSpans.forEach(function(span) {
        span.style.whiteSpace = 'pre';
    });
});
</script>